
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The rayleigh module &#8212; pyRT_DISORT  documentation</title>
    
  <link href="../../../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/plot_directive.css" />
    
  <link rel="preload" as="script" href="../../../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="The aerosol module" href="aerosol.html" />
    <link rel="prev" title="The eos module" href="eos.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    
<a class="navbar-brand" href="../../../../index.html">
<p class="title">pyRT_DISORT</p>
</a>

    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../about-this-project/about-pyRT_DISORT.html">
  About pyRT_DISORT
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../about-this-project/about-DISORT.html">
  About DISORT
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../about-this-project/release-notes.html">
  Release notes
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../installation.html">
  Installation
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../../tutorials.html">
  Tutorials
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../api-reference.html">
  API reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../for-contributors/contributions.html">
  Contributions
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/kconnour/pyRT_DISORT" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <p class="caption" role="heading">
 <span class="caption-text">
  Retrievals from scratch
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../spacecraft_retrieval.html">
   Spacecraft Retrieval
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="observation.html">
     The observation module
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="eos.html">
     The eos module
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     The rayleigh module
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="aerosol.html">
     The aerosol module
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="atmosphere.html">
     The atmosphere module
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="controller.html">
     The controller module
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="radiation.html">
     The radiation module
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="output.html">
     The output module
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="surface.html">
     The surface module
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="running_the_model.html">
     Running the model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="retrieval.html">
     Retrieval
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rayleighco2">
   RayleighCO2
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="the-rayleigh-module">
<h1>The rayleigh module<a class="headerlink" href="#the-rayleigh-module" title="Permalink to this headline">¶</a></h1>
<p>Now that we know the boundaries of our model, let’s start building it. What
we’ll do is essentially create atmospheric arrays for Rayleigh scattering, then
do the same thing with dust, and then combine them to get the total model
arrays.</p>
<p>These arrays, if you’re curious, are</p>
<ol class="arabic simple">
<li><p>The optical depth in each layer (known as <code class="code docutils literal notranslate"><span class="pre">DTAUC</span></code>).</p></li>
<li><p>The single scattering albedo in each layer (known as <code class="code docutils literal notranslate"><span class="pre">SSALB</span></code>).</p></li>
<li><p>The Legendre decomposition of the phase function in each layer
(known as <code class="code docutils literal notranslate"><span class="pre">PMOM</span></code>).</p></li>
</ol>
<div class="section" id="rayleighco2">
<h2>RayleighCO2<a class="headerlink" href="#rayleighco2" title="Permalink to this headline">¶</a></h2>
<p>Mars has a CO <sub>2</sub> atmosphere, so let’s instantiate a
<code class="xref py py-class docutils literal notranslate"><span class="pre">RayleighCO2</span></code> object. This will create the aforementioned
arrays. We just need to provide it the wavelengths
at which to make the optical depths, and the column density in each of the
layers. Let’s do that here.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyRT_DISORT.rayleigh</span> <span class="kn">import</span> <span class="n">RayleighCO2</span>

<span class="n">rco2</span> <span class="o">=</span> <span class="n">RayleighCO2</span><span class="p">(</span><span class="n">pixel_wavelengths</span><span class="p">,</span> <span class="n">column_density</span><span class="p">)</span>

<span class="n">rayleigh_od</span> <span class="o">=</span> <span class="n">rco2</span><span class="o">.</span><span class="n">optical_depth</span>
<span class="n">rayleigh_ssa</span> <span class="o">=</span> <span class="n">rco2</span><span class="o">.</span><span class="n">single_scattering_albedo</span>
<span class="n">rayleigh_pf</span> <span class="o">=</span> <span class="n">rco2</span><span class="o">.</span><span class="n">phase_function</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>These arrays have shapes (14, 5), (14, 5), and (3, 14, 5)—the same shapes
DISORT expects for <code class="docutils literal notranslate"><span class="pre">DTAUC</span></code>, <code class="docutils literal notranslate"><span class="pre">SSALB</span></code>, and <code class="docutils literal notranslate"><span class="pre">PMOM</span></code> but with an extra
wavelength dimension tacked on to the end. This class computed the arrays
at all wavelengths at once, so don’t get tripped up when computing these
composite arrays.</p>
</div>
<p>We’ve now computed all of the quantities relevant to Rayleigh scattering.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you want to see the total optical depth due to Rayleigh scattering at
the input wavelengths, you can execute the line</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">rayleigh_od</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
<p>to see the column integrated optical depth. For this example it gives
<code class="docutils literal notranslate"><span class="pre">[1.62444356e-04</span> <span class="pre">1.00391950e-05</span> <span class="pre">1.97891739e-06</span> <span class="pre">6.25591479e-07</span> <span class="pre">2.56207684e-07]</span></code></p>
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="eos.html" title="previous page">The eos module</a>
    <a class='right-next' id="next-link" href="aerosol.html" title="next page">The aerosol module</a>

              </div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../../../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021, kconnour.<br/>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.1.2.<br/>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>