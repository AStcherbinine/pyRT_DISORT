

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Controller &mdash; pyRT_DISORT  documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Equation of State" href="eos.html" />
    <link rel="prev" title="Atmosphere" href="atmosphere.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> pyRT_DISORT
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">About this project</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about-this-project/about-pyRT_DISORT.html">About pyRT_DISORT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about-this-project/about-DISORT.html">About DISORT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about-this-project/release-notes.html">Release notes</a></li>
</ul>
<p class="caption"><span class="caption-text">For users</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api-reference.html">API reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="aerosol.html">Aerosol</a></li>
<li class="toctree-l2"><a class="reference internal" href="atmosphere.html">Atmosphere</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="eos.html">Equation of State</a></li>
<li class="toctree-l2"><a class="reference internal" href="legendre.html">Legendre</a></li>
<li class="toctree-l2"><a class="reference internal" href="observation.html">pyRT_DISORT.observation</a></li>
<li class="toctree-l2"><a class="reference internal" href="output.html">Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="radiation.html">Radiation</a></li>
<li class="toctree-l2"><a class="reference internal" href="rayleigh.html">Rayleigh</a></li>
<li class="toctree-l2"><a class="reference internal" href="surface.html">Surface</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">For contributors</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../for-contributors/contributions.html">Contributions</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">pyRT_DISORT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../api-reference.html">API reference</a> &raquo;</li>
        
      <li>Controller</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/rst/for-users/api-reference/controller.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-controller">
<span id="controller"></span><h1>Controller<a class="headerlink" href="#module-controller" title="Permalink to this headline">¶</a></h1>
<p>The <code class="code docutils literal notranslate"><span class="pre">controller</span></code> module holds miscellaneous classes responsible for
creating variables that control how DISORT runs.</p>
<dl class="py class">
<dt id="controller.ComputationalParameters">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">controller.</span></code><code class="sig-name descname"><span class="pre">ComputationalParameters</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_layers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_moments</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_streams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_azimuth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_polar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_user_levels</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/controller.html#ComputationalParameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.ComputationalParameters" title="Permalink to this definition">¶</a></dt>
<dd><p>A data structure for holding the size of computational parameters.</p>
<p>ComputationalParameters holds the number of model layers, streams, moments,
and angles. It also performs basic checks that these values are plausible.
Objects of this class are meant to be be used as inputs to other classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_layers</strong> (<em>int</em>) – The number of layers to use in the model.</p></li>
<li><p><strong>n_moments</strong> (<em>int</em>) – The number of polynomial moments to use in the model. This number
should be greater than or equal to <code class="code docutils literal notranslate"><span class="pre">n_streams</span></code>.</p></li>
<li><p><strong>n_streams</strong> (<em>int</em>) – The number of streams (i.e. the number of computational polar
angles) to use in the model. This number should be even and at least
2.</p></li>
<li><p><strong>n_azimuth</strong> (<em>int</em>) – The number of azimuthal angles where DISORT should return radiant
quantities.</p></li>
<li><p><strong>n_polar</strong> (<em>int</em>) – The number of user-specified polar angles where DISORT should return
radiant quantities.</p></li>
<li><p><strong>n_user_levels</strong> (<em>int</em>) – The number of user levels to use in the model.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – Raised if any of the inputs cannot be converted to an int.</p></li>
<li><p><strong>ValueError</strong> – Raised if any of the inputs are not positive finite.</p></li>
</ul>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<dl class="simple">
<dt>UserWarning</dt><dd><p>Raised if n_streams is not even or if n_streams is greater than
n_moments.</p>
</dd>
</dl>
</div>
<dl class="py method">
<dt id="controller.ComputationalParameters.n_azimuth">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">n_azimuth</span></code><a class="headerlink" href="#controller.ComputationalParameters.n_azimuth" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the input number of azimuthal angles.</p>
<p class="rubric">Notes</p>
<p>In DISORT, this variable is named <code class="code docutils literal notranslate"><span class="pre">MAXPHI</span></code> (though in the
<code class="code docutils literal notranslate"><span class="pre">disort</span></code> package, this variable is optional).</p>
</dd></dl>

<dl class="py method">
<dt id="controller.ComputationalParameters.n_layers">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">n_layers</span></code><a class="headerlink" href="#controller.ComputationalParameters.n_layers" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the input number of layers.</p>
<p class="rubric">Notes</p>
<p>In DISORT, this variable is named <code class="code docutils literal notranslate"><span class="pre">MAXCLY</span></code> (though in the
<code class="code docutils literal notranslate"><span class="pre">disort</span></code> package, this variable is optional).</p>
<p>In problems without scattering, this variable is not used.</p>
</dd></dl>

<dl class="py method">
<dt id="controller.ComputationalParameters.n_moments">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">n_moments</span></code><a class="headerlink" href="#controller.ComputationalParameters.n_moments" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the input number of moments.</p>
<p class="rubric">Notes</p>
<p>In DISORT, this variable is named <code class="code docutils literal notranslate"><span class="pre">MAXMOM</span></code> (though in the
<code class="code docutils literal notranslate"><span class="pre">disort</span></code> package, this variable is optional).</p>
</dd></dl>

<dl class="py method">
<dt id="controller.ComputationalParameters.n_polar">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">n_polar</span></code><a class="headerlink" href="#controller.ComputationalParameters.n_polar" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the input number of user_specified polar angles.</p>
<p class="rubric">Notes</p>
<p>In DISORT, this variable is named <code class="code docutils literal notranslate"><span class="pre">MAXUMU</span></code> (though in the
<code class="code docutils literal notranslate"><span class="pre">disort</span></code> package, this variable is optional). Only used by DISORT
if <a class="reference internal" href="output.html#output.OutputBehavior.user_angles" title="output.OutputBehavior.user_angles"><code class="xref py py-attr docutils literal notranslate"><span class="pre">user_angles</span></code></a> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="controller.ComputationalParameters.n_streams">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">n_streams</span></code><a class="headerlink" href="#controller.ComputationalParameters.n_streams" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the input number of streams.</p>
<p class="rubric">Notes</p>
<p>In DISORT, this variable is named <code class="code docutils literal notranslate"><span class="pre">MAXCMU</span></code> (though in the
<code class="code docutils literal notranslate"><span class="pre">disort</span></code> package, this variable is optional). In general, the more
streams used the more accurate DISORT’s computations will be.</p>
</dd></dl>

<dl class="py method">
<dt id="controller.ComputationalParameters.n_user_levels">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">n_user_levels</span></code><a class="headerlink" href="#controller.ComputationalParameters.n_user_levels" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the input number of user levels.</p>
<p class="rubric">Notes</p>
<p>In DISORT, this variable is named <code class="code docutils literal notranslate"><span class="pre">MAXULV</span></code> (though in the
<code class="code docutils literal notranslate"><span class="pre">disort</span></code> package, this variable is optional).</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="output.html#output.UserLevel" title="output.UserLevel"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserLevel</span></code></a></p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="controller.ModelBehavior">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">controller.</span></code><code class="sig-name descname"><span class="pre">ModelBehavior</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">accuracy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_m_plus</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_pseudo_sphere</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_variables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6371.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/controller.html#ModelBehavior"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#controller.ModelBehavior" title="Permalink to this definition">¶</a></dt>
<dd><p>A data structure for holding the DISORT control variables.</p>
<p>ModelBehavior holds the control flags that dictate DISORT’s behavior. It
also performs basic checks that the input control options are plausible.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>accuracy</strong> (<em>float</em>) – The convergence criterion for azimuthal (Fourier cosine) series.
Will stop when the following occurs twice: largest term being added
is less than ‘accuracy’ times total series sum (twice because
there are cases where terms are anomalously small but azimuthal
series has not converged). Should be between 0 and 0.01 to avoid
risk of serious non-convergence. Has no effect on problems lacking a
beam source, since azimuthal series has only one term in that case.</p></li>
<li><p><strong>delta_m_plus</strong> (<em>bool</em>) – Denote whether to use the delta-M+ method of Lin et al. (2018).</p></li>
<li><p><strong>do_pseudo_sphere</strong> (<em>bool</em>) – Denote whether to use a pseudo-spherical correction.</p></li>
<li><p><strong>header</strong> (<em>str</em>) – Use a 127- (or less) character header for prints, embedded in the
DISORT banner. Input headers greater than 127 characters will be
truncated. Setting <code class="code docutils literal notranslate"><span class="pre">header=''</span></code> will eliminate both the banner
and the
header, and this is the only way to do so (<code class="code docutils literal notranslate"><span class="pre">header</span></code> is not
controlled by any of the <code class="code docutils literal notranslate"><span class="pre">print_variables</span></code> flags); <code class="code docutils literal notranslate"><span class="pre">header</span></code> can be used
to mark the progress of a calculation in which DISORT is called many
times, while leaving all other printing turned off.</p></li>
<li><p><strong>print_variables</strong> (<em>list</em>) – <p>Make a list of variables that control what DISORT prints. The 5
booleans control whether each of the following is printed:</p>
<ol class="arabic simple">
<li><p>Input variables (except <code class="docutils literal notranslate"><span class="pre">PMOM</span></code>)</p></li>
<li><p>Fluxes</p></li>
<li><p>Intensities at user levels and angles</p></li>
<li><p>Planar transmissivity and planar albedo as a function of solar
zenith angle (only used if
<a class="reference internal" href="output.html#output.OutputBehavior.incidence_beam_conditions" title="output.OutputBehavior.incidence_beam_conditions"><code class="xref py py-attr docutils literal notranslate"><span class="pre">incidence_beam_conditions</span></code></a> is
set to <code class="docutils literal notranslate"><span class="pre">True</span></code>)</p></li>
<li><p>PMOM for each layer (but only if 1. == True and only for layers
with scattering)</p></li>
</ol>
<p>Default is <code class="code docutils literal notranslate"><span class="pre">None</span></code>, which makes
<code class="code docutils literal notranslate"><span class="pre">[False,</span> <span class="pre">False,</span> <span class="pre">False,</span> <span class="pre">False,</span> <span class="pre">False]</span></code>.</p>
</p></li>
<li><p><strong>radius</strong> (<em>float</em>) – The planetary radius. This is presumably only used if
<code class="code docutils literal notranslate"><span class="pre">do_pseudo_sphere</span></code> is set to <code class="code docutils literal notranslate"><span class="pre">True</span></code>, although there is no
documentation
on this</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – Raised if any inputs cannot be cast to the correct type.</p></li>
<li><p><strong>ValueError</strong> – Raised if any inputs cannot be cast to the correct type or if
    print_variables does not have 5 elements.</p></li>
</ul>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<dl class="simple">
<dt>UserWarning</dt><dd><p>Raised if accuracy is not between 0 and 0.01.</p>
</dd>
</dl>
</div>
<dl class="py method">
<dt id="controller.ModelBehavior.accuracy">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">accuracy</span></code><a class="headerlink" href="#controller.ModelBehavior.accuracy" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the input accuracy.</p>
<p class="rubric">Notes</p>
<p>In DISORT, this variable is named <code class="code docutils literal notranslate"><span class="pre">ACCUR</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="controller.ModelBehavior.delta_m_plus">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">delta_m_plus</span></code><a class="headerlink" href="#controller.ModelBehavior.delta_m_plus" title="Permalink to this definition">¶</a></dt>
<dd><p>Get whether to use delta-M+ scaling.</p>
<p class="rubric">Notes</p>
<p>In DISORT, this variable is named <code class="code docutils literal notranslate"><span class="pre">DELTAMPLUS</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="controller.ModelBehavior.do_pseudo_sphere">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">do_pseudo_sphere</span></code><a class="headerlink" href="#controller.ModelBehavior.do_pseudo_sphere" title="Permalink to this definition">¶</a></dt>
<dd><p>Get whether to perform a pseudo-spherical correction.</p>
<p class="rubric">Notes</p>
<p>In DISORT, this variable is named <code class="code docutils literal notranslate"><span class="pre">DO_PSEUDO_SPHERE</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="controller.ModelBehavior.header">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">header</span></code><a class="headerlink" href="#controller.ModelBehavior.header" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the characters that will appear in the DISORT banner.</p>
<p class="rubric">Notes</p>
<p>In DISORT, this variable is named <code class="code docutils literal notranslate"><span class="pre">HEADER</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="controller.ModelBehavior.print_variables">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">print_variables</span></code><a class="headerlink" href="#controller.ModelBehavior.print_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the variables to print.</p>
<p class="rubric">Notes</p>
<p>In DISORT, this variable is named <code class="code docutils literal notranslate"><span class="pre">PRNT</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="controller.ModelBehavior.radius">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">radius</span></code><a class="headerlink" href="#controller.ModelBehavior.radius" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the planetary radius.</p>
<p class="rubric">Notes</p>
<p>In DISORT, this variable is named <code class="code docutils literal notranslate"><span class="pre">EARTH_RADIUS</span></code>.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="eos.html" class="btn btn-neutral float-right" title="Equation of State" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="atmosphere.html" class="btn btn-neutral float-left" title="Atmosphere" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, kconnour.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>