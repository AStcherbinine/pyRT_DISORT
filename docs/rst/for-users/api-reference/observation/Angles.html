

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Angles &mdash; pyRT_DISORT  documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="make_azimuth" href="make_azimuth.html" />
    <link rel="prev" title="observation" href="../observation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home"> pyRT_DISORT
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">About this project</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about-this-project/about-pyRT_DISORT.html">About pyRT_DISORT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../about-this-project/about-DISORT.html">About DISORT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../about-this-project/release-notes.html">Release notes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For users</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../api-reference.html">API reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../aerosol.html">Aerosol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../atmosphere.html">Atmosphere</a></li>
<li class="toctree-l2"><a class="reference internal" href="../controller.html">Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eos.html">Equation of State</a></li>
<li class="toctree-l2"><a class="reference internal" href="../legendre.html">Legendre</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../observation.html">observation</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Angles</a></li>
<li class="toctree-l3"><a class="reference internal" href="make_azimuth.html">make_azimuth</a></li>
<li class="toctree-l3"><a class="reference internal" href="phase_to_angles.html">phase_to_angles</a></li>
<li class="toctree-l3"><a class="reference internal" href="sky_image.html">sky_image</a></li>
<li class="toctree-l3"><a class="reference internal" href="Spectral.html">Spectral</a></li>
<li class="toctree-l3"><a class="reference internal" href="constant_width.html">constant_width</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../output.html">Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../radiation.html">Radiation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rayleigh.html">Rayleigh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../surface.html">Surface</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For contributors</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../for-contributors/contributions.html">Contributions</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">pyRT_DISORT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../api-reference.html">API reference</a> &raquo;</li>
        
          <li><a href="../observation.html">observation</a> &raquo;</li>
        
      <li>Angles</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../_sources/rst/for-users/api-reference/observation/Angles.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="angles">
<h1>Angles<a class="headerlink" href="#angles" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="pyrt.observation.Angles">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyrt.observation.</span></span><span class="sig-name descname"><span class="pre">Angles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">incidence</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beam_azimuth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emission</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azimuth</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/pyrt/observation.html#Angles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyrt.observation.Angles" title="Permalink to this definition">¶</a></dt>
<dd><p>A data structure that contains angles required by DISORT.</p>
<p>It accepts both the incidence and azimuth angles of the incident beam
as well as emission and azimuth angles from an observation. It holds
these values and computes both <span class="math notranslate nohighlight">\(\mu_0\)</span> and <span class="math notranslate nohighlight">\(\mu\)</span> from these
angles.</p>
<p>This class can compute all angular quantities required by DISORT at once,
even multiple observations. Both <code class="code docutils literal notranslate"><span class="pre">incidence</span></code> and <code class="code docutils literal notranslate"><span class="pre">beam_azimuth</span></code>
must have the same shape (the “beam measurement shape”), representing
measurements at different incident beams. Both <code class="code docutils literal notranslate"><span class="pre">emission</span></code> and
<code class="code docutils literal notranslate"><span class="pre">azimuth</span></code> must have that same shape with an additional axis at the
end, representing the angular grid at the corresponding incident beams. The
length of this final axis can be different for both of these inputs.
See the notes section for discussion of multiple cases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>incidence</strong> (<em>ArrayLike</em>) – Incidence (solar zenith) angles [degrees]. All values must be between 0
and 90.</p></li>
<li><p><strong>beam_azimuth</strong> (<em>ArrayLike</em>) – Azimuth angles of the incident beam [degrees]. All values must be
between 0 and 360.</p></li>
<li><p><strong>emission</strong> (<em>ArrayLike</em>) – Emission (emergence) angles [degrees]. All values must be between 0 and
180.</p></li>
<li><p><strong>azimuth</strong> (<em>ArrayLike</em>) – Azimuth angles [degrees]. All values must be between 0 and 360.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – Raised if the input arrays contain nonnumerical values.</p></li>
<li><p><strong>ValueError</strong> – Raised if any values of the input arrays are outside their
    mathematically valid range, or if the inputs do not have the same beam
    measurement shape.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="phase_to_angles.html#pyrt.observation.phase_to_angles" title="pyrt.observation.phase_to_angles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_to_angles</span></code></a></dt><dd><p>Create instances of this class if phase angles are known but azimuth angles are unknown.</p>
</dd>
<dt><a class="reference internal" href="sky_image.html#pyrt.observation.sky_image" title="pyrt.observation.sky_image"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sky_image</span></code></a></dt><dd><p>Create instances of this class from a single sky image.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>In the case of a rover taking a single image from the surface along an MxN
emission and azimuth angle grid, the image is taken with a single incident
beam. Thus, <code class="code docutils literal notranslate"><span class="pre">incidence</span></code> and <code class="code docutils literal notranslate"><span class="pre">beam_azimuth</span></code> should be scalars (or
single valued arrays) whereas <code class="code docutils literal notranslate"><span class="pre">emission</span></code> should have shape (1, M) and
<code class="code docutils literal notranslate"><span class="pre">azimuth</span></code> should have shape (1, N).</p>
<p>In the case of an orbiter taking an MxN image, each is pixel is illuminated
by a different incident beam. In this case <code class="code docutils literal notranslate"><span class="pre">incidence</span></code> and
<code class="code docutils literal notranslate"><span class="pre">beam_azimuth</span></code> should have shape (M, N) whereas <code class="code docutils literal notranslate"><span class="pre">emission</span></code> and
<code class="code docutils literal notranslate"><span class="pre">azimuth</span></code> should have shape (M, N, 1).</p>
<p>DISORT wants a float for <code class="code docutils literal notranslate"><span class="pre">UMU0</span></code> and <code class="code docutils literal notranslate"><span class="pre">PHI0</span></code>; it wants a 1D array
for <code class="code docutils literal notranslate"><span class="pre">UMU</span></code> and <code class="code docutils literal notranslate"><span class="pre">PHI</span></code>. Selecting the proper indices from the
beam measurement axes is necessary to get these data types.</p>
<p class="rubric">Examples</p>
<p>Import the relevant modules</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyrt.observation</span> <span class="kn">import</span> <span class="n">Angles</span>
</pre></div>
</div>
<p>Instantiate this class for a (3, 5) sky image taken along an emission and
azimuth angle grid, with a single incident beam.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">incidence</span> <span class="o">=</span> <span class="mi">30</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">beam_azimuth</span> <span class="o">=</span> <span class="mi">40</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emission</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">3</span><span class="p">)[</span><span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">,</span> <span class="p">:]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">azimuth</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">5</span><span class="p">)[</span><span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">,</span> <span class="p">:]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Angles</span><span class="p">(</span><span class="n">incidence</span><span class="p">,</span> <span class="n">beam_azimuth</span><span class="p">,</span> <span class="n">emission</span><span class="p">,</span> <span class="n">azimuth</span><span class="p">)</span>
<span class="go">Angles:</span>
<span class="go">   mu0 = [0.8660254]</span>
<span class="go">   phi0 = [40]</span>
<span class="go">   mu = [[0.8660254  0.70710678 0.5       ]]</span>
<span class="go">   phi = [[20.  27.5 35.  42.5 50. ]]</span>
</pre></div>
</div>
<p>Instantiate this class for a sequence of 50 (3, 5) images taken from a fixed
position over a period time where the incidence angle and beam azimuth angle
varied from image to image.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">incidence</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">beam_azimuth</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emission</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">broadcast_to</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">azimuth</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">broadcast_to</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">angles</span> <span class="o">=</span> <span class="n">Angles</span><span class="p">(</span><span class="n">incidence</span><span class="p">,</span> <span class="n">beam_azimuth</span><span class="p">,</span> <span class="n">emission</span><span class="p">,</span> <span class="n">azimuth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">angles</span><span class="o">.</span><span class="n">mu0</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">angles</span><span class="o">.</span><span class="n">phi0</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">angles</span><span class="o">.</span><span class="n">mu</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">angles</span><span class="o">.</span><span class="n">phi</span><span class="o">.</span><span class="n">shape</span>
<span class="go">((50,), (50,), (50, 3), (50, 5))</span>
</pre></div>
</div>
<p>Instantiate this class for a (40, 50) image where each pixel was illuminated
by a unique incident beam.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ang</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">outer</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">40</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">50</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">angles</span> <span class="o">=</span> <span class="n">Angles</span><span class="p">(</span><span class="n">ang</span><span class="p">,</span> <span class="n">ang</span><span class="p">,</span> <span class="n">ang</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">],</span> <span class="n">ang</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">angles</span><span class="o">.</span><span class="n">mu0</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">angles</span><span class="o">.</span><span class="n">phi0</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">angles</span><span class="o">.</span><span class="n">mu</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">angles</span><span class="o">.</span><span class="n">phi</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span>
<span class="go">((40, 50), (40, 50), (40, 50, 1), (40, 50, 1))</span>
</pre></div>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="pyrt.observation.Angles.mu">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">mu</span></span><em class="property"><span class="pre">:</span> <span class="pre">numpy.ndarray</span></em><a class="headerlink" href="#pyrt.observation.Angles.mu" title="Permalink to this definition">¶</a></dt>
<dd><p>Get <span class="math notranslate nohighlight">\(\mu\)</span>—the cosine of <code class="docutils literal notranslate"><span class="pre">emission</span></code>.</p>
<p class="rubric">Notes</p>
<p>Each element along the observation dimension(s) is named <code class="code docutils literal notranslate"><span class="pre">UMU</span></code> in
DISORT.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyrt.observation.Angles.mu0">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">mu0</span></span><em class="property"><span class="pre">:</span> <span class="pre">numpy.ndarray</span></em><a class="headerlink" href="#pyrt.observation.Angles.mu0" title="Permalink to this definition">¶</a></dt>
<dd><p>Get <span class="math notranslate nohighlight">\(\mu_0\)</span>—the cosine of <code class="docutils literal notranslate"><span class="pre">incidence</span></code>.</p>
<p class="rubric">Notes</p>
<p>Each element along the observation dimension(s) is named <code class="code docutils literal notranslate"><span class="pre">UMU0</span></code> in
DISORT.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyrt.observation.Angles.phi">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">phi</span></span><em class="property"><span class="pre">:</span> <span class="pre">numpy.ndarray</span></em><a class="headerlink" href="#pyrt.observation.Angles.phi" title="Permalink to this definition">¶</a></dt>
<dd><p>Get <span class="math notranslate nohighlight">\(\phi\)</span>—the azimuth angles [degrees] (the input to
<code class="code docutils literal notranslate"><span class="pre">azimuth</span></code>).</p>
<p class="rubric">Notes</p>
<p>Each element along the observation dimension(s) is named <code class="code docutils literal notranslate"><span class="pre">PHI</span></code> in
DISORT.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyrt.observation.Angles.phi0">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">phi0</span></span><em class="property"><span class="pre">:</span> <span class="pre">numpy.ndarray</span></em><a class="headerlink" href="#pyrt.observation.Angles.phi0" title="Permalink to this definition">¶</a></dt>
<dd><p>Get <span class="math notranslate nohighlight">\(\phi_0\)</span>—the azimuth angles of the incident beam
[degrees] (the input to <code class="code docutils literal notranslate"><span class="pre">beam_azimuth</span></code>).</p>
<p class="rubric">Notes</p>
<p>Each element along the observation dimension(s) is named <code class="code docutils literal notranslate"><span class="pre">PHI0</span></code> in
DISORT.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="make_azimuth.html" class="btn btn-neutral float-right" title="make_azimuth" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../observation.html" class="btn btn-neutral float-left" title="observation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, kconnour.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>