

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Physical Grid &mdash; pyRT_DISORT  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Rayleigh" href="rayleigh.html" />
    <link rel="prev" title="Sample Observation" href="sample_observation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> pyRT_DISORT
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Useful links</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../getting-started.html">Getting started</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="sample_observation.html">Sample Observation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Physical Grid</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#hydrostatic">Hydrostatic</a></li>
<li class="toctree-l3"><a class="reference internal" href="#equation-of-state">Equation of State</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scale-height">Scale Height</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rayleigh.html">Rayleigh</a></li>
<li class="toctree-l2"><a class="reference internal" href="forward_scattering.html">Forward Scattering</a></li>
<li class="toctree-l2"><a class="reference internal" href="optical_depth.html">Optical Depth</a></li>
<li class="toctree-l2"><a class="reference internal" href="phase_function.html">Phase Function</a></li>
<li class="toctree-l2"><a class="reference internal" href="model_build.html">Model Build</a></li>
<li class="toctree-l2"><a class="reference internal" href="surface.html">Surface</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller.html">Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="flux.html">Flux</a></li>
<li class="toctree-l2"><a class="reference internal" href="output.html">Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="running_the_model.html">Running the model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about-disort.html">About DISORT</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">pyRT_DISORT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../getting-started.html">Getting started</a> &raquo;</li>
        
      <li>Physical Grid</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/rst/getting-started/physical_grid.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="physical-grid">
<h1>Physical Grid<a class="headerlink" href="#physical-grid" title="Permalink to this headline">¶</a></h1>
<p>Now that we created the angular and spectral information, we can turn our
attention to creating the model. Perhaps the most natural place to start is
by defining the boundaries of the model. At each of the boundaries, we’ll also
want to know the equation of state variables. We’ll also want to know the
column density within each of the layers.</p>
<div class="section" id="hydrostatic">
<h2>Hydrostatic<a class="headerlink" href="#hydrostatic" title="Permalink to this headline">¶</a></h2>
<p>Suppose you have a generic temperature and pressure profile. This could be
because you have limited knowledge of the atmosphere so you’re using a typical
profile, or perhaps you have measured profiles. It’s important for the
upcoming steps that we have the atmospheric number density and column density.
<a class="reference internal" href="../modules/eos.html#eos.Hydrostatic" title="eos.Hydrostatic"><code class="xref py py-class docutils literal notranslate"><span class="pre">eos.Hydrostatic</span></code></a> is a basic utility class that computes the number
density from pressure and temperature profiles assuming the atmosphere is in
hydrostatic equilibrium. I’ll make some basic profiles here.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">altitudes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">pressure_profile</span> <span class="o">=</span> <span class="mi">500</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">altitudes</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">temperature_profile</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
<p>We can add these profiles to <code class="code docutils literal notranslate"><span class="pre">Hydrostatic</span></code> and access the variables via
the properties.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyRT_DISORT.eos</span> <span class="kn">import</span> <span class="n">Hydrostatic</span>

<span class="n">hydro</span> <span class="o">=</span> <span class="n">Hydrostatic</span><span class="p">(</span><span class="n">pressure_profile</span><span class="p">,</span> <span class="n">temperature_profile</span><span class="p">)</span>
<span class="n">pressure</span> <span class="o">=</span> <span class="n">hydro</span><span class="o">.</span><span class="n">pressure</span>
<span class="n">temperature</span> <span class="o">=</span> <span class="n">hydro</span><span class="o">.</span><span class="n">temperature</span>
<span class="n">number_density</span> <span class="o">=</span> <span class="n">hydro</span><span class="o">.</span><span class="n">number_density</span>
</pre></div>
</div>
<p>As you’d expect, the <code class="code docutils literal notranslate"><span class="pre">number_density</span></code> has shape (50)—same as the input
pressure and temperature. Now that we’ve created the number density, we can
move on to the column density.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As with the observational quantities, this accepts ND input so in theory
if you have an image with <code class="code docutils literal notranslate"><span class="pre">MxN</span></code> pixels and happen to know the
pressures and temperatures at 50 points above each of the pixels, you can
input <code class="code docutils literal notranslate"><span class="pre">MxNx50</span></code> arrays and get the corresponding number densities.</p>
</div>
</div>
<div class="section" id="equation-of-state">
<h2>Equation of State<a class="headerlink" href="#equation-of-state" title="Permalink to this headline">¶</a></h2>
<p>Text</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you’re lucky enough to already have pressure, temperature, <em>and</em> number
density (like from a GCM) you can directly input those arrays here. Whereas
<code class="code docutils literal notranslate"><span class="pre">Hydrostatic</span></code> enforced the atmosphere to be in hydrostatic equilibrium
there is no such restriction here. This allows you to work with fancy things
like supersaturation. It’s also why I made these two separate classes.</p>
</div>
</div>
<div class="section" id="scale-height">
<h2>Scale Height<a class="headerlink" href="#scale-height" title="Permalink to this headline">¶</a></h2>
<p>Text</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="rayleigh.html" class="btn btn-neutral float-right" title="Rayleigh" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="sample_observation.html" class="btn btn-neutral float-left" title="Sample Observation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, kconnour.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>